{"version":3,"sources":["webpack:///webpack/bootstrap bd48418c33c670d17ad0","webpack:///./src/background.js"],"names":["host","searchMenuId","MESSAGE_TARGET","ICIBA","__$ICIBA_CORE","chrome","contextMenus","create","title","id","contexts","onclick","info","tab","tabs","sendMessage","type","runtime","onMessage","addListener","message","sender","callback","target","data","push","result","apply"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;;;;AAIA,EAAE,UAAUA,IAAV,EAAiB;;AAEf,SAAIC,eAAe,GAAnB;AACA,SAAIC,iBAAiB,OAArB;AACA,SAAIC,QAAQH,KAAKI,aAAjB;;AAEA;AACAC,YAAOC,YAAP,CAAoBC,MAApB,CAA2B;AACvBC,gBAAO,QADgB;AAEvBC,aAAIR,YAFmB;AAGvBS,mBAAU,CAAC,WAAD,CAHa;AAIvBC,kBAAS,iBAAUC,IAAV,EAAgBC,GAAhB,EAAqB;AAC1BR,oBAAOS,IAAP,CAAYC,WAAZ,CAAwBF,IAAIJ,EAA5B,EAAgC,EAACO,MAAM,QAAP,EAAhC;AACH;AANsB,MAA3B;;AASAX,YAAOY,OAAP,CAAeC,SAAf,CAAyBC,WAAzB,CAAqC,UAAUC,OAAV,EAAmBC,MAAnB,EAA2BC,QAA3B,EAAqC;;AAEtE,aAAIF,QAAQG,MAAR,IAAkBrB,cAAtB,EAAsC;AAClC,iBAAI,OAAOC,MAAMiB,QAAQJ,IAAd,CAAP,IAA8B,UAAlC,EAA8C;AAC1CI,yBAAQI,IAAR,CAAaC,IAAb,CAAkB,UAAUC,MAAV,EAAkB;AAChCJ,8BAAS,EAACI,QAAQA,MAAT,EAAT;AACH,kBAFD;;AAIAvB,uBAAMiB,QAAQJ,IAAd,EAAoBW,KAApB,CAA0BxB,KAA1B,EAAiCiB,QAAQI,IAAzC;;AAEA,wBAAO,IAAP;AACH;AACJ;AACJ,MAbD;AAeH,EA/BA,WAAD,C","file":"background.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap bd48418c33c670d17ad0\n **/","/**\n * 添加滑词右键菜单，点击后推送消息到对应的tab页面\n * @type {string}\n */\n!(function( host ) {\n\n    var searchMenuId = '2';\n    var MESSAGE_TARGET = 'ICIBA';\n    var ICIBA = host.__$ICIBA_CORE;\n\n    // 翻译选中文字菜单\n    chrome.contextMenus.create({\n        title: '翻译选中文字',\n        id: searchMenuId,\n        contexts: [\"selection\"],\n        onclick: function (info, tab) {\n            chrome.tabs.sendMessage(tab.id, {type: 'search'});\n        }\n    });\n\n    chrome.runtime.onMessage.addListener(function (message, sender, callback) {\n\n        if (message.target == MESSAGE_TARGET) {\n            if (typeof ICIBA[message.type] == 'function') {\n                message.data.push(function (result) {\n                    callback({result: result});\n                });\n\n                ICIBA[message.type].apply(ICIBA, message.data);\n\n                return true;\n            }\n        }\n    });\n\n})(this);\n\n\n/** WEBPACK FOOTER **\n ** ./src/background.js\n **/"],"sourceRoot":""}